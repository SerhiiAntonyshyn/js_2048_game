{"version":3,"sources":["scripts/main.js"],"names":["clickOnRight","tdElement","container","document","querySelector","button","allTd","querySelectorAll","allTr","startMessage","loseMessage","winMessage","score","countOfMoveCells","arrayOfFields","getRandomInt","min","max","Math","ceil","floor","random","addNumber","probabilityToAddFour","length","trunc","putNumberFromArrayToTextContent","addColorToCell","winConditional","y","t","classList","remove","restartArray","i","textContent","add","q","checkLoseGame","w","cells","arrowRight","r","a","Number","render","array","numberOfTurn","z","d","c","e","temp","addEventListener","event","item","target","contains","key"],"mappings":"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","file":"main.352ca41d.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\n// write your code here\nconst container = document.querySelector('.container');\nconst button = document.querySelector('.button');\nconst allTd = document.querySelectorAll('td');\nconst allTr = document.querySelectorAll('tr');\nconst startMessage = document.querySelector('.message-start');\nconst loseMessage = document.querySelector('.message-lose');\nconst winMessage = document.querySelector('.message-win');\nconst score = document.querySelector('.game-score');\nlet clickOnRight;\nlet countOfMoveCells = 0;\nlet tdElement;\n\nconst arrayOfFields = [\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n];\n\ncontainer.addEventListener('click', (event) => {\n  const item = event.target;\n\n  if (button.textContent === 'Start' && item === button) {\n    addNumber();\n    startMessage.classList.add('hidden');\n    button.classList.remove('start');\n    button.classList.add('restart');\n    button.textContent = 'Restart';\n  } else if (button.textContent === 'Restart' && item === button) {\n    startMessage.classList.remove('hidden');\n\n    if (!loseMessage.classList.contains('hidden')) {\n      loseMessage.classList.add('hidden');\n    }\n\n    if (!winMessage.classList.contains('hidden')) {\n      winMessage.classList.add('hidden');\n    }\n\n    button.textContent = 'Start';\n    button.classList.remove('restart');\n    button.classList.add('start');\n    clickOnRight = true;\n    score.textContent = 0;\n\n    restartArray();\n    addColorToCell();\n  }\n});\n\nfunction getRandomInt(min, max) {\n  // eslint-disable-next-line no-param-reassign\n  min = Math.ceil(min);\n  // eslint-disable-next-line no-param-reassign\n  max = Math.floor(max);\n\n  return Math.floor(Math.random() * (max - min)) + min;\n};\n\ncontainer.addEventListener('keydown', (event) => {\n  if (button.textContent === 'Restart') {\n    switch (event.key) {\n      case 'ArrowDown': render(arrayOfFields, 1);\n        break;\n      case 'ArrowRight': render(arrayOfFields, 4);\n        break;\n      case 'ArrowUp': render(arrayOfFields, 3);\n        break;\n      case 'ArrowLeft': render(arrayOfFields, 2);\n        break;\n      default:\n        break;\n    }\n\n    if (checkLoseGame()) {\n      loseMessage.classList.remove('hidden');\n    }\n  }\n});\n\nfunction addNumber() {\n  const probabilityToAddFour = getRandomInt(1, 11);\n\n  do {\n    tdElement = getRandomInt(0, allTd.length);\n  }\n  // eslint-disable-next-line max-len\n  while (arrayOfFields[Math.trunc(tdElement / arrayOfFields.length)][tdElement - (Math.trunc(tdElement / arrayOfFields.length)) * arrayOfFields.length] !== 0);\n\n  if (probabilityToAddFour === 1) {\n    // eslint-disable-next-line max-len\n    arrayOfFields[Math.trunc(tdElement / arrayOfFields.length)][tdElement - (Math.trunc(tdElement / arrayOfFields.length)) * arrayOfFields.length] = 4;\n  } else if (probabilityToAddFour !== 1) {\n    // eslint-disable-next-line max-len\n    arrayOfFields[Math.trunc(tdElement / arrayOfFields.length)][tdElement - (Math.trunc(tdElement / arrayOfFields.length)) * arrayOfFields.length] = 2;\n  }\n  putNumberFromArrayToTextContent();\n  addColorToCell();\n};\n\nfunction winConditional() {\n  for (let y = 0; y < arrayOfFields.length; y++) {\n    for (let t = 0; t < arrayOfFields[y].length; t++) {\n      if (arrayOfFields[y][t] === 2048) {\n        winMessage.classList.remove('hidden');\n      }\n    }\n  }\n}\n\nfunction restartArray() {\n  for (let i = 0; i < arrayOfFields.length; i++) {\n    for (let y = 0; y < arrayOfFields[i].length; y++) {\n      arrayOfFields[i][y] = 0;\n    }\n  }\n  putNumberFromArrayToTextContent();\n}\n\nfunction addColorToCell() {\n  for (let i = 0; i < allTd.length; i++) {\n    if (allTd[i].textContent !== '') {\n      allTd[i].classList.remove(allTd[i].classList[1]);\n      allTd[i].classList.add(`field-cell--${allTd[i].textContent}`);\n    }\n  }\n\n  for (let q = 0; q < allTd.length; q++) {\n    if (allTd[q].textContent === '') {\n      allTd[q].classList.remove(allTd[q].classList[1]);\n    }\n  }\n}\n\nfunction checkLoseGame() {\n  for (let y = 0; y < arrayOfFields.length; y++) {\n    for (let t = 0; t < arrayOfFields[y].length; t++) {\n      if (arrayOfFields[y][t] === 0) {\n        return false;\n      }\n    }\n  }\n\n  for (let i = 0; i < arrayOfFields.length; i++) {\n    for (let y = 1; y < arrayOfFields[i].length; y++) {\n      if (arrayOfFields[i][y] === arrayOfFields[i][y - 1]) {\n        return false;\n      }\n    }\n  }\n\n  for (let w = 1; w < arrayOfFields.length; w++) {\n    for (let i = 0; i < arrayOfFields[w].length; i++) {\n      if (arrayOfFields[w][i] === arrayOfFields[w - 1][i]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction putNumberFromArrayToTextContent() {\n  for (let i = 0; i < arrayOfFields.length; i++) {\n    for (let y = 0; y < arrayOfFields[i].length; y++) {\n      if (arrayOfFields[i][y] === 0) {\n        allTr[i].cells[y].textContent = '';\n      } else {\n        allTr[i].cells[y].textContent = arrayOfFields[i][y];\n      }\n    }\n  }\n}\n\nfunction arrowRight() {\n  for (let i = 0; i < arrayOfFields.length; i++) {\n    let r = 0;\n\n    for (let a = 0; a < arrayOfFields[i].length; a++) {\n      for (let y = arrayOfFields[i].length - 1; y > 0; y--) {\n        if (arrayOfFields[i][y] === 0 && arrayOfFields[i][y]\n           !== arrayOfFields[i][y - 1]) {\n          arrayOfFields[i][y] = arrayOfFields[i][y - 1];\n          arrayOfFields[i][y - 1] = 0;\n          countOfMoveCells++;\n        } else if (arrayOfFields[i][y - r] === arrayOfFields[i][y - 1 - r]\n           && arrayOfFields[i][y - r] !== 0) {\n          arrayOfFields[i][y - r] = Number(arrayOfFields[i][y - 1 - r])\n            + Number(arrayOfFields[i][y - r]);\n          arrayOfFields[i][y - 1 - r] = 0;\n          countOfMoveCells++;\n\n          score.textContent = Number(score.textContent)\n          + Number(arrayOfFields[i][y]);\n          r = 4 - y;\n        }\n      }\n    }\n    r = 0;\n  }\n\n  if (countOfMoveCells === 0) {\n    clickOnRight = false;\n  } else {\n    clickOnRight = true;\n  }\n  countOfMoveCells = 0;\n}\n\nfunction render(array, numberOfTurn) {\n  for (let z = 0; z < 4; z++) {\n    for (let d = array.length, a = 0; a < d; a++) {\n      for (let c = a + 1; c < d; c++) {\n        const e = array[a][c];\n\n        array[a][c] = array[c][a];\n        array[c][a] = e;\n      }\n    }\n\n    for (let q = 0; q < array.length / 2; q++) {\n      const temp = array[q];\n\n      array[q] = array[array.length - 1 - q];\n      array[array.length - 1 - q] = temp;\n    }\n\n    if (z === numberOfTurn - 1) {\n      arrowRight();\n    }\n  }\n\n  if (clickOnRight) {\n    winConditional();\n    addNumber();\n  }\n\n  return array;\n};\n"]}